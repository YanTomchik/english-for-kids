(()=>{const i=[["Action Set (A)","Action Set (B)","Action Set (C)","Animal Set (A)","Animal Set (B)","Clothes","Emotions","Adjective"],[{word:"cry",translation:"плакать",image:"img/cry.jpg",audioSrc:"audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"img/dance.jpg",audioSrc:"audio/dance.mp3"},{word:"dive",translation:"нырять",image:"img/dive.jpg",audioSrc:"audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"img/draw.jpg",audioSrc:"audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"img/fish.jpg",audioSrc:"audio/fish.mp3"},{word:"fly",translation:"летать",image:"img/fly.jpg",audioSrc:"audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"img/hug.jpg",audioSrc:"audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"img/jump.jpg",audioSrc:"audio/jump.mp3"}],[{word:"open",translation:"открывать",image:"img/open.jpg",audioSrc:"audio/open.mp3"},{word:"play",translation:"играть",image:"img/play.jpg",audioSrc:"audio/play.mp3"},{word:"point",translation:"указывать",image:"img/point.jpg",audioSrc:"audio/point.mp3"},{word:"ride",translation:"ездить",image:"img/ride.jpg",audioSrc:"audio/ride.mp3"},{word:"run",translation:"бегать",image:"img/run.jpg",audioSrc:"audio/run.mp3"},{word:"sing",translation:"петь",image:"img/sing.jpg",audioSrc:"audio/sing.mp3"},{word:"skip",translation:"пропускать, прыгать",image:"img/skip.jpg",audioSrc:"audio/skip.mp3"},{word:"swim",translation:"плавать",image:"img/swim.jpg",audioSrc:"audio/swim.mp3"}],[{word:"argue",translation:"спорить",image:"img/argue.jpg",audioSrc:"audio/argue.mp3"},{word:"build",translation:"строить",image:"img/build.jpg",audioSrc:"audio/build.mp3"},{word:"carry",translation:"нести",image:"img/carry.jpg",audioSrc:"audio/carry.mp3"},{word:"catch",translation:"ловить",image:"img/catch.jpg",audioSrc:"audio/catch.mp3"},{word:"drive",translation:"водить машину",image:"img/drive.jpg",audioSrc:"audio/drive.mp3"},{word:"drop",translation:"падать",image:"img/drop.jpg",audioSrc:"audio/drop.mp3"},{word:"pull",translation:"тянуть",image:"img/pull.jpg",audioSrc:"audio/pull.mp3"},{word:"push",translation:"толкать",image:"img/push.jpg",audioSrc:"audio/push.mp3"}],[{word:"cat",translation:"кот",image:"img/cat.jpg",audioSrc:"audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"img/chick.jpg",audioSrc:"audio/chick.mp3"},{word:"chicken",translation:"курица",image:"img/chicken.jpg",audioSrc:"audio/chicken.mp3"},{word:"dog",translation:"собака",image:"img/dog.jpg",audioSrc:"audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"img/horse.jpg",audioSrc:"audio/horse.mp3"},{word:"pig",translation:"свинья",image:"img/pig.jpg",audioSrc:"audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"img/rabbit.jpg",audioSrc:"audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"img/sheep.jpg",audioSrc:"audio/sheep.mp3"}],[{word:"bird",translation:"птица",image:"img/bird.jpg",audioSrc:"audio/bird.mp3"},{word:"fish",translation:"рыба",image:"img/fish1.jpg",audioSrc:"audio/fish.mp3"},{word:"frog",translation:"жаба",image:"img/frog.jpg",audioSrc:"audio/frog.mp3"},{word:"giraffe",translation:"жирафа",image:"img/giraffe.jpg",audioSrc:"audio/giraffe.mp3"},{word:"lion",translation:"лев",image:"img/lion.jpg",audioSrc:"audio/lion.mp3"},{word:"mouse",translation:"мышь",image:"img/mouse.jpg",audioSrc:"audio/mouse.mp3"},{word:"turtle",translation:"черепаха",image:"img/turtle.jpg",audioSrc:"audio/turtle.mp3"},{word:"dolphin",translation:"дельфин",image:"img/dolphin.jpg",audioSrc:"audio/dolphin.mp3"}],[{word:"skirt",translation:"юбка",image:"img/skirt.jpg",audioSrc:"audio/skirt.mp3"},{word:"pants",translation:"брюки",image:"img/pants.jpg",audioSrc:"audio/pants.mp3"},{word:"blouse",translation:"блузка",image:"img/blouse.jpg",audioSrc:"audio/blouse.mp3"},{word:"dress",translation:"платье",image:"img/dress.jpg",audioSrc:"audio/dress.mp3"},{word:"boot",translation:"ботинок",image:"img/boot.jpg",audioSrc:"audio/boot.mp3"},{word:"shirt",translation:"рубашка",image:"img/shirt.jpg",audioSrc:"audio/shirt.mp3"},{word:"coat",translation:"пальто",image:"img/coat.jpg",audioSrc:"audio/coat.mp3"},{word:"shoe",translation:"туфли",image:"img/shoe.jpg",audioSrc:"audio/shoe.mp3"}],[{word:"sad",translation:"грустный",image:"img/sad.jpg",audioSrc:"audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"img/angry.jpg",audioSrc:"audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"img/happy.jpg",audioSrc:"audio/happy.mp3"},{word:"tired",translation:"уставший",image:"img/tired.jpg",audioSrc:"audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"img/surprised.jpg",audioSrc:"audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"img/scared.jpg",audioSrc:"audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"img/smile.jpg",audioSrc:"audio/smile.mp3"},{word:"laugh",translation:"смех",image:"img/laugh.jpg",audioSrc:"audio/laugh.mp3"}],[{word:"big",translation:"большой",image:"img/big.jpg",audioSrc:"audio/big.mp3"},{word:"small",translation:"маленький",image:"img/small.jpg",audioSrc:"audio/small.mp3"},{word:"fast",translation:"быстрый",image:"img/fast.jpg",audioSrc:"audio/fast.mp3"},{word:"slow",translation:"медленный",image:"img/slow.jpg",audioSrc:"audio/slow.mp3"},{word:"friendly",translation:"дружелюбный",image:"img/friendly.jpg",audioSrc:"audio/friendly.mp3"},{word:"unfriendly",translation:"недружелюбный",image:"img/unfriendly.jpg",audioSrc:"audio/unfriendly.mp3"},{word:"young",translation:"молодой",image:"img/young.jpg",audioSrc:"audio/young.mp3"},{word:"old",translation:"старый",image:"img/old.jpg",audioSrc:"audio/old.mp3"}]],a=["actions1","actions2","actions3","animals1","animals2","clothes","emotions","ajective"],e="train",t="play",r="cards";let o=e,n="category",d=1;document.getElementById("switchBtn").addEventListener("change",(function(){o=o==e?t:e,n==r&&y()}));const s=document.getElementById("player"),l=document.getElementById("player_results"),g=document.getElementById("menu");g.addEventListener("mouseleave",(function(){c.checked=!1})),g.innerHTML=function(){let a='<li><a class="active" href="#main">Main page</a></li>';for(let e=0;e<i[0].length;e++)a+='<li><a href="#cards" data-catnr="'+(e+1)+'">'+i[0][e]+"</a></li>";return a}();const c=document.getElementById("gamb"),m=document.getElementById("stars"),u=document.getElementById("cards_container"),p=document.getElementById("success_failure");for(let i=0;i<g.childNodes.length;i++)g.childNodes[i].addEventListener("click",(i=>h(i)));function h(i){let a=i.currentTarget,e=a.children[0].href,t=e.indexOf("#"),o=e.substring(t+1),s=g.childNodes;for(let i=0;i<s.length;i++)s[i].firstElementChild.classList.remove("active");switch(o){case"main":g.firstChild.firstElementChild.classList.add("active"),v();break;case"cards":d=parseInt(a.children[0].dataset.catnr),n=r,s[d].firstElementChild.classList.add("active"),y()}c.checked=!1}const f=document.getElementById("caption");f.innerText="Categories";const w=document.getElementById("cards");v();const S=document.getElementById("game");function v(){f.innerText="Categories",u.style.display="block";let e="";for(let t=0;t<i[0].length;t++)e+='<div class="category_card" data-catnr="'+(t+1)+'"><div class="category_card_background"><div class="category_class_image" style="background-image:url(\'./img/'+a[t]+'.jpg\')"></div></div><div class="category_card_caption_container"><p class="category_card_caption">'+i[0][t]+"</p></div></div>";w.innerHTML=e;let t=w.childNodes;for(let i=0;i<t.length;i++)t[i].addEventListener("click",(i=>(d=parseInt(i.currentTarget.dataset.catnr),n=r,void y())))}function y(){if(u.style.display="block",f.innerText=i[0][d-1],o==t)w.innerHTML=function(a){let e="";for(let t=0;t<i[a].length;t++)e+='<div class = "card_play" data-word="'+i[a][t].word+'" style="background-image:url(\'./'+i[a][t].image+"')\"></div>";return e}(d),S.style.display="block";else{w.innerHTML=function(a){let e="";for(let t=0;t<i[a].length;t++)e+='<div class="card"><div class="front"><div class="word_english"><div class="word_image" style="background-image:url(\'./'+i[a][t].image+'\')"></div><div class="word_caption"><p>'+i[a][t].word+'</p><button><img src="./img/rotate.svg"/></button></div></div></div><div class="back"><div class="word_russian"><div class="word_image" style="background-image:url(\'./'+i[a][t].image+'\')"></div><div class="word_caption"><p>'+i[a][t].translation+"</p></div></div></div></div>";return e}(d),S.style.display="none";let a=document.querySelectorAll("#cards button");for(let i=0;i<a.length;i++)a[i].addEventListener("click",(i=>b(i))),w.children[i].children[0].addEventListener("click",(i=>j(i)))}}function j(a){"BUTTON"!=a.target.parentElement.tagName&&R(function(a,e){let t=i[e];for(let r=0;r<t.length;r++)if(t[r].word==a)return i[e][r];return null}(a.currentTarget.children[0].children[1].innerText,d).audioSrc)}function b(i){let a=i.currentTarget.parentElement.parentNode.parentElement,e=i.currentTarget.parentElement.parentNode.parentElement.nextElementSibling;a.classList.add("front_rotate"),e.classList.add("back_rotate"),e.addEventListener("mouseleave",k)}function k(i){let a=i.currentTarget.previousElementSibling,e=i.currentTarget;a.classList.remove("front_rotate"),e.classList.remove("back_rotate"),e.removeEventListener("mouseleave",k)}S.addEventListener("click",_);let E=[],L=0,T=0;function _(a){L=0,E=function(i){let a=[],e=[];for(let i=1;i<=8;i++)a.push(i);for(;0!=a.length;){let i=Math.ceil(Math.random()*a.length)-1;e.push(a[i]),a.splice(i,1)}return e}(),a.target.style.backgroundColor="#f7aa47",a.target.innerHTML="Repeat word",a.target.removeEventListener("click",_),a.target.addEventListener("click",B);let e=w.childNodes;for(let i=0;i<e.length;i++)e[i].addEventListener("click",(i=>M(i)));R(i[d][E[0]-1].audioSrc)}function B(){R(i[d][E[0]-1].audioSrc)}function M(a){if(1!=a.target.classList.contains("disabled"))if(a.target.dataset.word==i[d][E[0]-1].word)if(m.innerHTML='<div class="star correct"></div>'+m.innerHTML,a.target.classList.add("disabled"),U("audio/correct.mp3"),E.length>1)E.shift(),L=0,setTimeout(q,1e3);else{0==T?(setTimeout(x,1e3),setTimeout(C,1e3)):(setTimeout(O,1e3),setTimeout(I,1e3)),L=0,m.innerHTML="",S.removeEventListener("click",B),S.addEventListener("click",_),S.style.display="none",S.style.backgroundColor="#003c6f",S.innerHTML="Start game";let i=g.childNodes;for(let a=0;a<i.length;a++)i[a].firstElementChild.classList.remove("active");g.firstChild.firstElementChild.classList.add("active"),setTimeout(A,5e3)}else L++,T++,U("audio/error.mp3"),m.innerHTML='<div class="star error"></div>'+m.innerHTML}function C(){H(!0)}function I(){H(!1)}function H(i){let a="",e="";1==i?(a="You win!",e="./img/success.jpg"):(a=T>1?T+"errors":"1 error",e="./img/failure.jpg"),p.innerHTML='<h1 class="caption">'+a+'</h1><img src="'+e+'" alt="reaction" />',p.style.display="block",T=0,setTimeout(N,5e3)}function N(){p.style.display="none"}function A(){v()}function x(){l.src="./audio/success.mp3",l.play()}function O(){l.src="./audio/failure.mp3",l.play()}function q(){R(i[d][E[0]-1].audioSrc)}function R(i){s.src="./"+i,s.play()}function U(i){l.src="./"+i,l.play()}})();
